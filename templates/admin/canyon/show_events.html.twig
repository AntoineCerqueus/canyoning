{% extends 'base.html.twig' %}

{% block title %}Canyon index{% endblock %}

{% block body %}

{# Même si l'attribut est encapsulé en privé, twig arrive a le récupérer grâce au getter de name du canyon #}
<h1>Liste des événements du canyon {{ canyon.name }}</h1>

{% for event in events %}
    <div>Début</div>
    {# twig interpole facilement les variables de type primitif mais pour les variable de types complexes on utilise 
                        des filtres qui formattent une variable avant de l'afficher #}
    <!-- Ici le filtre date formate le type "datetime" en string avec le format donné en paramètre -->
    <div> {{ event.startAt|date('d-m-Y H:i')}}</div>
    <div>Fin</div>
    <div> {{ event.endAt|date('d-m-Y H:i')}}</div>
    <a href="{{ path('admin_event_edit', {'id':event.id})}}">Modifier</a>
    {{ include('admin/event/_delete_form.html.twig') }}
{% endfor %}



</tbody>
</table>

<a href="{{ path('admin_event_new', {'id':canyon.id})}}">Ajouter</a>

<a href="{{ path('admin_canyon_index') }}">Retour à la liste</a>
{% endblock %}